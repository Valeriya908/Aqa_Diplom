# _Дипломный проект профессии «Тестировщик»_
*Дипломный проект представляет собой автоматизацию тестирования комплексного сервиса, взаимодействующего с СУБД и API Банка.*
___
## _Документация:_

- ***[План автоматизации](https://github.com/Valeriya908/Aqa_Diplom/blob/master/Plan.md)***
- ***[Отчет о тестировании](https://github.com/Valeriya908/Aqa_Diplom/blob/master/Report.md)***
- ***[Отчёт о проведённой автоматизации](https://github.com/Valeriya908/Aqa_Diplom/blob/master/Summary.md)***
___
## _Краткое описание тестируемого приложения:_
### _Бизнес часть:_

*Приложение представляет из себя веб-сервис.*

![](../pic/service.png)

***Приложение предлагает купить тур по определённой цене с помощью двух способов:***

- *Обычная оплата по дебетовой карте*
- *Уникальная технология: выдача кредита по данным банковской карты*

***Само приложение не обрабатывает данные по картам, а пересылает их банковским сервисам:***

- *сервису платежей* 
- *кредитному сервису*

***Приложение должно в собственной СУБД сохранять информацию о том, каким способом был совершён платёж и успешно ли он был совершён (при этом данные карт сохранять не допускается).***

***Заявлена поддержка двух СУБД:***

- *MySQL*
- *PostgreSQL*
___
## _Инструкция по запуску тестов для тестируемого SUT:_

:exclamation: ***Важно!***
***Должно быть установлено и настроено следующее ПО:***

- `IntelliJ IDEA Ultimate`
- `Docker`

### _Запуск SUT_
1. *Склонировать на локальный репозиторий проект [Aqa_Diplom](https://github.com/Valeriya908/Aqa_Diplom.git) и открыть его в приложении IntelliJ IDEA Ultimate.*

2. *В терминале IntelliJ IDEA Ultimate с помощью команды `docker-compose up` разворачиваем контейнер, необходимый для дальнейшей работы (настройки для запуска контейнера прописаны в файле `docker-compose.yml`).*

3. *Запуск SUT с поддержкой БД:*
- *MySQL: в новом окне терминала запустить SUT командой `java -jar artifacts/aqa-shop.jar --spring.profiles.active=mysql`*
- *PostgreSQL: в новом окне терминала запустить SUT командой `java -jar artifacts/aqa-shop.jar --spring.profiles.active=postgresql`*

:exclamation: *В браузере сервис будет доступен по адресу http://localhost:8080/*
___
### _Запуск тестов_
1. *Для БД MySQL: в новом окне терминала запустить тесты командой `./gradlew test -DdbUrl=jdbc:mysql://localhost:3306/app-db`* 
2. *Для БД PostgreSQL: в новом окне терминала запустить тесты командой `./gradlew test -DdbUrl=jdbc:postgresql://localhost:5432/app-db`* 
___
### _Формирование отчетов тестирования Allure_
1. В новом окне терминала запустить формирование отчета командой `./gradlew allureServe`*
___
### _Завершение работы приложения_
1. *Остановить работу SUT комбинацией клавиш `Ctrl+C` (или закрытием окна терминала в IntelliJ IDEA Ultimate, где был запущен SUT)*
2. *Остановить контейнер командой `docker-compose down`*, введенной в терминале


